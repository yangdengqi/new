# -*- coding: utf-8 -*-
"""
Created on Sat Apr  9 21:30:55 2022

@author: 楊登棋
"""
from nltk.corpus.reader import PlaintextCorpusReader
from nltk.probability import FreqDist

import urllib
file = urllib.request.urlopen(url="https://raw.githubusercontent.com/stopwords-iso/stopwords-zh/master/stopwords-zh.txt")
stopwords = file.read().decode("utf8").split()
#print(stopword)

from string import printable
n=300

quick_dir = "quick/"
pcr = PlaintextCorpusReader(root=quick_dir, fileids=".*\.txt")
fd = FreqDist(samples=pcr.words())
quick_words = [word for word,freq in fd.most_common(n=n) if word not in stopwords and word[0] not in printable]

slow_dir = "slow/"
pcr = PlaintextCorpusReader(root=slow_dir, fileids=".*\.txt")
fd = FreqDist(samples=pcr.words())
slow_words = [word for word,freq in fd.most_common(n=n) if word not in stopwords and word[0] not in printable]

print(quick_dir)
print([word for word in quick_words if word not in slow_words])

print(slow_dir)
print([word for word in slow_words if word not in quick_words])

#作快歌跟慢歌的字詞相關性

from gensim.models import Word2Vec
from gensim.models.word2vec import PathLineSentences
corpus = PathLineSentences(quick_dir)#"quick")
corpus = PathLineSentences(slow_dir)#"slow")

model = Word2Vec(sentences=corpus, vector_size=100, window=5, min_count=1, workers=4)
print(model.wv.most_similar(positive=['快樂',"歡樂"], negative=['悲傷']))

#作歌詞的類比

